{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/lihan2/Documents/project/chatui4cythera/src/app/api/devices/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\n// 设备 API 配置\nconst DEVICE_API_URL = 'http://10.222.96.88:4000/core-metadata/api/v3/device/all';\n\nexport async function GET(request: Request) {\n  try {\n    // 获取查询参数\n    const { searchParams } = new URL(request.url);\n    const offset = searchParams.get('offset') || '0';\n    const limit = searchParams.get('limit') || '100';\n    \n    console.log(\"设备 API 请求:\", { offset, limit });\n    \n    // 构建 URL\n    const apiUrl = `${DEVICE_API_URL}?offset=${offset}&limit=${limit}`;\n    \n    // 发送请求到设备 API\n    const deviceResponse = await fetch(apiUrl, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    });\n    \n    if (!deviceResponse.ok) {\n      const errorData = await deviceResponse.json();\n      console.error(\"设备 API 错误:\", errorData);\n      throw new Error(`设备 API 请求失败: ${deviceResponse.status} ${deviceResponse.statusText}`);\n    }\n    \n    // 处理设备 API 响应\n    const data = await deviceResponse.json();\n    console.log(\"设备 API 响应:\", data);\n    \n    // 返回设备数据\n    return NextResponse.json(data);\n  } catch (error) {\n    console.error('设备 API 错误:', error);\n    return NextResponse.json(\n      { \n        error: '处理请求时出错',\n        message: error instanceof Error ? error.message : '未知错误'\n      },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAEA,YAAY;AACZ,MAAM,iBAAiB;AAEhB,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,SAAS;QACT,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,SAAS,aAAa,GAAG,CAAC,aAAa;QAC7C,MAAM,QAAQ,aAAa,GAAG,CAAC,YAAY;QAE3C,QAAQ,GAAG,CAAC,cAAc;YAAE;YAAQ;QAAM;QAE1C,SAAS;QACT,MAAM,SAAS,GAAG,eAAe,QAAQ,EAAE,OAAO,OAAO,EAAE,OAAO;QAElE,cAAc;QACd,MAAM,iBAAiB,MAAM,MAAM,QAAQ;YACzC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,UAAU;YACZ;QACF;QAEA,IAAI,CAAC,eAAe,EAAE,EAAE;YACtB,MAAM,YAAY,MAAM,eAAe,IAAI;YAC3C,QAAQ,KAAK,CAAC,cAAc;YAC5B,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,eAAe,MAAM,CAAC,CAAC,EAAE,eAAe,UAAU,EAAE;QACtF;QAEA,cAAc;QACd,MAAM,OAAO,MAAM,eAAe,IAAI;QACtC,QAAQ,GAAG,CAAC,cAAc;QAE1B,SAAS;QACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YACE,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACpD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}